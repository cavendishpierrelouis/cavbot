Console 


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>CavCore Console — CavBot Analytics Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="CavCore Console is CavBot’s analytics brain — mapping 404s, routes, SEO, referrers, and runtime feel for every project under guard." />
  <meta name="robots" content="noindex, nofollow">
  <!-- TYPEFACE (unified with index) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <!-- CavCore header-footer styles -->
  <link rel="stylesheet" href="header-footer.css" />
  <!-- Unified CavBot head + brain styles -->
  <link rel="stylesheet" href="cavbotcore/head.css"/>
  <!-- CavCore badge styles (same bundle as index, harmless even if unused here) -->
  <link rel="stylesheet" href="cavbotcore/badge.css"/>

  <style>
    :root {
      /* === Core CavBot palette === */
      --navy-950: #01030f;
      --navy-900: #020616;
      --navy-800: #050a1b;

      --lime: #b9c85a;         /* Electric Lime primary */
      --lime-soft: rgba(185, 200, 90, 0.14);
      --lime-soft-strong: rgba(185, 200, 90, 0.22);

      --violet: #8b5cff;       /* Hyper Violet secondary */
      --violet-soft: rgba(139, 92, 255, 0.2);
      --violet-border-soft: rgba(139, 92, 255, 0.45);

      --blue: #4ea8ff;
      --blue-soft: rgba(78, 168, 255, 0.85);

      --ink: #f7fbff;
      --ink-soft: #c5cee7;
      --ink-subtle: #8890aa;
      --border-subtle: rgba(255, 255, 255, 0.08);

      --panel-radius-lg: 20px;
      --panel-radius-md: 16px;
      --panel-radius-sm: 12px;

      /* Unified typeface: Inter everywhere */
      --font-sans: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --font-display: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

      --space-xxl: 80px;
      --space-xl: 56px;
      --space-lg: 40px;
      --space-md: 28px;
      --space-sm: 18px;
      --space-xs: 10px;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: var(--font-sans);
      color: var(--ink-soft);
      background:
        radial-gradient(circle at top, #071025 0, var(--navy-900) 32%, var(--navy-950) 100%);
      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      opacity: 0;
      animation: pageFadeIn 340ms ease-out forwards;
    }

    @keyframes pageFadeIn {
      0% {
        opacity: 0;
        transform: translateY(4px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .page-shell {
        animation: none;
        opacity: 1;
      }
    }

    .page-inner {
      max-width: 1160px;
      margin: 0 auto;
      padding: var(--space-xl) 20px var(--space-xxl);
      display: flex;
      flex-direction: column;
      gap: var(--space-xxl); /* unified with index so sections breathe the same */
    }

    .btn {
      border-radius: 999px;
      border: 1px solid transparent;
      padding: 8px 18px;
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      cursor: pointer;
      font-family: var(--font-sans);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      background: transparent;
      color: var(--ink);
      transition:
        background 0.16s ease-out,
        border-color 0.16s ease-out,
        transform 0.1s ease-out,
        box-shadow 0.16s ease-out;
      white-space: nowrap;
    }

    .btn-primary {
      background:
        radial-gradient(circle at top left, var(--lime-soft-strong), transparent 55%),
        linear-gradient(135deg, #f7ffe1 0%, #dde98b 28%, var(--lime) 100%);
      color: #050509;
      border-color: rgba(0, 0, 0, 0.85);
      box-shadow:
        0 12px 28px rgba(0, 0, 0, 0.7),
        0 0 0 1px rgba(255, 255, 255, 0.04);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow:
        0 16px 36px rgba(0, 0, 0, 0.8),
        0 0 0 1px rgba(255, 255, 255, 0.08);
    }

    .btn-ghost {
      border-color: rgba(185, 200, 90, 0.55);
      background:
        radial-gradient(circle at top left, var(--lime-soft), transparent 60%)
        rgba(3, 7, 22, 0.98);
      color: var(--ink-soft);
    }

    .btn-ghost:hover {
      border-color: rgba(139, 92, 255, 0.65);
      background:
        radial-gradient(circle at top left, var(--violet-soft), transparent 60%)
        rgba(5, 8, 26, 0.98);
    }

    .btn-pill {
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      padding: 5px 10px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--ink-subtle);
      background:
        radial-gradient(circle at top left, rgba(139, 92, 255, 0.16), transparent 60%)
        rgba(3, 6, 20, 0.98);
    }

    .btn-pill:hover {
      border-color: rgba(185, 200, 90, 0.7);
      color: var(--ink);
    }

    /* ==============================
       SHARED SECTION / PANEL
       ============================== */

    .section-header {
      margin-bottom: var(--space-md);
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 46rem;
    }

    .eyebrow {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--ink-subtle);
    }

    .section-title {
      margin: 0;
      font-family: var(--font-display);
      font-size: 22px; /* match index */
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--ink);
    }

    .section-body {
      font-size: 14px; /* match index */
      color: var(--ink-soft);
      line-height: 1.8;
      margin: 0;
    }

    .panel {
      border-radius: var(--panel-radius-lg);
      border: 1px solid var(--border-subtle);
      background:
        radial-gradient(circle at top left, rgba(139, 92, 255, 0.2), transparent 60%),
        linear-gradient(160deg, var(--navy-800) 0, var(--navy-950) 100%);
    }

    .panel-tight {
      padding: 18px 20px;
    }

    .panel-roomy {
      padding: 24px 26px;
    }

    /* ==============================
       CONSOLE HERO / TOP ROW
       ============================== */

    .console-shell {
      display: grid;
      gap: var(--space-lg);
    }

    .console-top-row {
      display: grid;
      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.1fr);
      gap: var(--space-md);
      align-items: stretch;
    }

    .console-hero-copy {
      display: grid;
      gap: 12px;
      align-content: flex-start;
    }

    .console-hero-kicker {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .console-hero-title {
      margin: 0;
      font-family: var(--font-display);
      font-size: 22px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink);
    }

    .console-hero-subtitle {
      font-size: 14px;
      color: var(--ink-soft);
      line-height: 1.8;
      max-width: 38rem;
    }

    .console-hero-meta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 11px;
      color: var(--ink-subtle);
      margin-top: 6px;
    }

    .console-filter-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .console-filter-chip {
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      padding: 6px 12px;
      font-size: 11px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--ink-subtle);
      background:
        radial-gradient(circle at top left, rgba(185, 200, 90, 0.14), transparent 60%)
        rgba(3,7,20,0.98);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .console-filter-chip strong {
      color: var(--ink);
      font-weight: 500;
    }

    .console-hero-panel {
      border-radius: var(--panel-radius-lg);
      border: 1px solid var(--violet-border-soft);
      background:
        radial-gradient(circle at top, rgba(139, 92, 255, 0.25), transparent 58%),
        linear-gradient(160deg, var(--navy-800) 0, var(--navy-950) 100%);
      padding: 18px 18px 16px;
      display: grid;
      gap: 14px;
    }

    .console-hero-panel-top {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .console-hero-live {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--lime);
    }

    .console-live-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--lime);
      box-shadow: 0 0 10px rgba(185, 200, 90, 0.9);
      animation: consoleLivePulse 1.6s ease-in-out infinite;
    }

    @keyframes consoleLivePulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50%      { transform: scale(1.4); opacity: 0.6; }
    }

    .console-hero-main {
      display: grid;
      grid-template-columns: auto minmax(0, 1fr);
      gap: 18px;
      align-items: center;
    }

    .console-hero-bot-wrap {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4px;
    }

    .console-hero-bot-wrap [data-cavbot-head] {
      transform: scale(0.9);
      transform-origin: center;
    }

    .console-hero-metrics {
      display: grid;
      gap: 8px;
      font-size: 11px;
    }

    .console-hero-metrics-label {
      font-size: 10px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .console-hero-metrics-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .console-hero-metric {
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.14);
      background:
        radial-gradient(circle at top left, rgba(185, 200, 90, 0.16), transparent 60%)
        rgba(3,7,20,0.98);
      padding: 7px 9px;
      display: grid;
      gap: 2px;
    }

    .console-hero-metric-label {
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .console-hero-metric-value {
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      color: var(--ink);
    }

    .console-hero-metric-footnote {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    /* ==============================
       FILTERS PANEL
       ============================== */

    .console-filters-panel {
      margin-top: -6px;
    }

    .console-filters-panel-inner {
      display: grid;
      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.6fr);
      gap: 16px;
      align-items: center;
    }

    .console-filters-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
    }

    .console-filter-group {
      display: grid;
      gap: 4px;
      font-size: 11px;
    }

    .filter-label {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--ink-subtle);
    }

    .filter-select {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      padding: 6px 10px;
      font-size: 11px;
      font-family: var(--font-sans);
      background:
        radial-gradient(circle at top left, rgba(139,92,255,0.18), transparent 60%)
        rgba(3,6,20,0.98);
      color: var(--ink-soft);
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image:
        linear-gradient(45deg, rgba(255,255,255,0.8) 0, rgba(255,255,255,0.8) 0),
        linear-gradient(135deg, rgba(255,255,255,0.8) 0, rgba(255,255,255,0.8) 0);
      background-position:
        calc(100% - 16px) 50%,
        calc(100% - 12px) 50%;
      background-size: 5px 5px, 5px 5px;
      background-repeat: no-repeat;
      padding-right: 28px;
    }

    .filter-select:focus {
      outline: none;
      border-color: rgba(185,200,90,0.9);
      box-shadow: 0 0 0 1px rgba(185,200,90,0.4);
      color: var(--ink);
    }

    .filter-toggle-row {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .filter-toggle-label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--ink-subtle);
      margin-right: 4px;
    }

    /* ==============================
       OVERVIEW METRICS + TREND
       ============================== */

    .console-overview {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.3fr);
      gap: var(--space-md);
      align-items: flex-start;
    }

    .metric-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px;
      margin-bottom: var(--space-sm);
    }

    .metric-card {
      border-radius: var(--panel-radius-md);
      border: 1px solid rgba(255,255,255,0.14);
      background:
        radial-gradient(circle at top left, rgba(185, 200, 90, 0.14), transparent 60%)
        rgba(3,7,20,0.98);
      padding: 12px 12px 10px;
      display: grid;
      gap: 4px;
      font-size: 11px;
    }

    .metric-label {
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .metric-value {
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 15px;
      color: var(--ink);
    }

    .metric-subtext {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .trend-panel {
      border-radius: var(--panel-radius-lg);
      border: 1px solid var(--border-subtle);
      background:
        radial-gradient(circle at top left, rgba(139, 92, 255, 0.18), transparent 60%),
        linear-gradient(160deg, var(--navy-800) 0, var(--navy-950) 100%);
      padding: 16px 18px 14px;
      display: grid;
      gap: 10px;
    }

    .trend-header-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
    }

    .trend-title {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .trend-legend {
      display: flex;
      gap: 10px;
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .trend-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      display: inline-block;
    }

    .trend-dot--404 {
      background: var(--violet);
    }

    .trend-dot--sessions {
      background: var(--lime);
    }

    .trend-chart {
      height: 120px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.16);
      background:
        linear-gradient(180deg, rgba(255,255,255,0.06), rgba(1,3,12,0.9)),
        repeating-linear-gradient(
          to right,
          rgba(255,255,255,0.05) 0,
          rgba(255,255,255,0.05) 1px,
          transparent 1px,
          transparent 24px
        );
      padding: 8px 10px;
      display: flex;
      align-items: flex-end;
      gap: 6px;
      overflow: hidden;
    }

    .trend-bar-group {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      gap: 2px;
      align-items: stretch;
    }

    .trend-bar {
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(139,92,255,0.8), rgba(139,92,255,0.2));
      height: 0;
      transform-origin: bottom;
      transition: height 0.5s ease-out;
    }

    .trend-bar--404 {
      background: linear-gradient(180deg, rgba(139,92,255,0.9), rgba(139,92,255,0.2));
    }

    .trend-bar--sessions {
      background: linear-gradient(180deg, rgba(185,200,90,0.9), rgba(185,200,90,0.2));
    }

    .trend-day-label {
      font-size: 9px;
      color: var(--ink-subtle);
      text-align: center;
      margin-top: 4px;
    }

    .trend-footnote {
      font-size: 10px;
      color: var(--ink-subtle);
      margin-top: 4px;
    }

    /* ==============================
       RIGHT: 404 SUMMARY + GUARDIAN HEALTH
       ============================== */

    .panel-subtitle {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
      margin-bottom: 6px;
    }

    .key-stat-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .key-stat {
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.16);
      background:
        radial-gradient(circle at top left, rgba(185,200,90,0.14), transparent 60%)
        rgba(3,7,20,0.98);
      padding: 10px 11px;
      display: grid;
      gap: 4px;
      font-size: 11px;
    }

    .key-stat-label {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--ink-subtle);
    }

    .key-stat-value {
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      color: var(--ink);
    }

    .key-stat-note {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    /* Guardian health card inside the 404 panel */
    .guardian-health-card {
      margin-top: 18px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.18);
      background:
        radial-gradient(circle at top left, rgba(139,92,255,0.2), transparent 60%),
        radial-gradient(circle at bottom right, rgba(185,200,90,0.16), transparent 60%),
        rgba(3,7,22,0.98);
      padding: 14px 16px 12px;
      display: grid;
      grid-template-columns: auto minmax(0, 1fr);
      gap: 16px;
      align-items: center;
    }

    .guardian-score-shell {
      padding: 4px;
      border-radius: 999px;
      background:
        radial-gradient(circle at top, rgba(139,92,255,0.45), transparent 65%);
    }

    .guardian-score-ring {
      border-radius: 999px;
      padding: 4px;
      background:
        conic-gradient(from 230deg, var(--violet), var(--lime), var(--violet));
      box-shadow:
        0 0 18px rgba(139,92,255,0.7),
        0 0 22px rgba(2,4,18,0.9);
    }

    .guardian-score-bubble {
      width: 96px;
      height: 96px;
      border-radius: 999px;
      border: 1px solid rgba(247,251,255,0.16);
      background:
        radial-gradient(circle at top, rgba(255,255,255,0.06), transparent 55%),
        repeating-linear-gradient(
          to right,
          rgba(255,255,255,0.06) 0,
          rgba(255,255,255,0.06) 1px,
          transparent 1px,
          transparent 6px
        ),
        rgba(1,3,14,0.98);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2px;
      box-shadow:
        inset 0 0 18px rgba(139,92,255,0.55);
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      text-align: center;
    }

    .guardian-score-label {
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .guardian-score-value {
      font-size: 28px;
      color: var(--ink);
      line-height: 1.1;
    }

    .guardian-score-scale {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .guardian-health-body {
      display: grid;
      gap: 8px;
    }

    .guardian-pill-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .guardian-pill {
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.16);
      padding: 8px 9px;
      font-size: 11px;
      display: grid;
      gap: 2px;
      background:
        radial-gradient(circle at top left, rgba(139,92,255,0.14), transparent 60%)
        rgba(3,7,20,0.98);
    }

    .guardian-pill--strong {
      border-color: rgba(185,200,90,0.75);
      box-shadow: 0 0 12px rgba(185,200,90,0.35);
    }

    .guardian-pill-label {
      font-size: 9px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .guardian-pill-value {
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      color: var(--ink);
    }

    .guardian-pill-note {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .guardian-health-copy {
      font-size: 11px;
      color: var(--ink-subtle);
      margin: 4px 0 0;
    }

    /* ==============================
       SEO / PERFORMANCE / STRUCTURE STRIP
       ============================== */

    .console-middle-row {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr) minmax(0, 1.1fr);
      gap: var(--space-md);
      align-items: flex-start;
    }

    .seo-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      margin-bottom: 6px;
    }

    .seo-badge {
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 10px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      border: 1px solid rgba(255,255,255,0.18);
      color: var(--ink-soft);
      background:
        radial-gradient(circle at top left, rgba(139,92,255,0.14), transparent 60%)
        rgba(3,7,20,0.98);
    }

    .seo-badge--critical {
      border-color: rgba(255, 115, 115, 0.9);
      color: #ffd1d1;
    }

    .mini-list {
      margin: 0;
      padding-left: 16px;
      font-size: 11px;
      color: var(--ink-soft);
      display: grid;
      gap: 4px;
    }

    .perf-metric-row {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .perf-pill {
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.18);
      padding: 8px 10px;
      font-size: 11px;
      display: grid;
      gap: 3px;
      background:
        radial-gradient(circle at top left, rgba(78,168,255,0.2), transparent 60%)
        rgba(3,7,22,0.98);
    }

    .perf-label {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--ink-subtle);
    }

    .perf-value {
      font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      color: var(--ink);
    }

    .perf-status {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .structure-pill-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
      margin-top: 10px;
    }

    .structure-pill {
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.16);
      background:
        radial-gradient(circle at top left, rgba(185,200,90,0.16), transparent 60%)
        rgba(3,7,20,0.98);
      padding: 8px 9px;
      font-size: 11px;
      display: grid;
      gap: 3px;
    }

    /* ==============================
       REFERRERS / CAMPAIGNS & INSIGHTS
       ============================== */

    .console-bottom-row {
      display: grid;
      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.3fr);
      gap: var(--space-md);
      align-items: flex-start;
    }

    .ref-table {
      margin-top: 8px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.18);
      background:
        radial-gradient(circle at top left, rgba(139, 92, 255, 0.16), transparent 60%),
        rgba(3,7,20,0.98);
      overflow: hidden;
      font-size: 11px;
    }

    .ref-table-header,
    .ref-table-row {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) 0.9fr 0.9fr 0.8fr;
      gap: 10px;
      padding: 7px 11px;
      align-items: center;
    }

    .ref-table-header {
      background: rgba(1,5,20,0.9);
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 9px;
      color: var(--ink-subtle);
    }

    .ref-table-row:nth-child(odd) {
      background: rgba(255,255,255,0.02);
    }

    .ref-domain {
      font-size: 11px;
      color: var(--ink-soft);
    }

    .ref-rate-bad {
      color: #ffd1d1;
    }

    .ref-rate-ok {
      color: var(--lime);
    }

    .campaign-graph {
      margin-top: 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.18);
      background:
        radial-gradient(circle at top left, rgba(78,168,255,0.2), transparent 60%),
        rgba(3,7,22,0.98);
      padding: 12px 14px 12px;
      display: grid;
      gap: 10px;
      font-size: 11px;
    }

    .campaign-graph-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
    }

    .campaign-graph-title {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--ink-subtle);
    }

    .campaign-graph-window {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .campaign-row {
      display: grid;
      gap: 4px;
    }

    .campaign-row-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
    }

    .campaign-name {
      font-size: 11px;
      color: var(--ink);
    }

    .campaign-meta {
      font-size: 10px;
      color: var(--ink-subtle);
      text-align: right;
      white-space: nowrap;
    }

    .campaign-bar-track {
      position: relative;
      height: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      overflow: hidden;
    }

    .campaign-bar-fill {
      position: absolute;
      inset: 0;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--violet), var(--lime));
      box-shadow: 0 0 18px rgba(139, 92, 255, 0.8);
      transition: width 0.7s ease-out;
    }

    .campaign-footnote {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .insights-list {
      margin-top: 8px;
      display: grid;
      gap: 8px;
      font-size: 11px;
    }

    .insight-row {
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.18);
      background:
        radial-gradient(circle at top left, rgba(139,92,255,0.18), transparent 60%),
        rgba(3,7,22,0.98);
      padding: 9px 11px;
      display: grid;
      gap: 4px;
    }

    .insight-row-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
    }

    .insight-type {
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-subtle);
    }

    .insight-severity {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.6);
    }

    .insight-severity--high {
      border-color: rgba(255, 130, 130, 0.9);
      color: #ffd1d1;
    }

    .insight-severity--medium {
      border-color: rgba(255, 204, 128, 0.9);
      color: #ffe1b3;
    }

    .insight-title {
      font-size: 11px;
      color: var(--ink);
    }

    .insight-meta {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .insight-tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .insight-tag {
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.2);
      padding: 3px 8px;
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--ink-soft);
    }

    /* ==============================
       DEPLOY MARKERS / DATA HEALTH
       ============================== */

    .deploy-row {
      display: grid;
      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.3fr);
      gap: var(--space-md);
      align-items: flex-start;
    }

    .deploy-timeline {
      margin-top: 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.18);
      background:
        radial-gradient(circle at top left, rgba(185,200,90,0.18), transparent 60%),
        rgba(3,7,20,0.98);
      padding: 10px 12px;
      font-size: 11px;
      display: grid;
      gap: 6px;
    }

    .deploy-item {
      display: flex;
      align-items: baseline;
      gap: 10px;
    }

    .deploy-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: var(--violet);
      box-shadow: 0 0 8px rgba(139,92,255,0.7);
      flex-shrink: 0;
    }

    .deploy-meta {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    .data-health-list {
      margin: 0;
      padding-left: 16px;
      font-size: 11px;
      color: var(--ink-soft);
      display: grid;
      gap: 4px;
    }

    .data-health-metrics {
      margin-top: 10px;
      border-radius: var(--panel-radius-md);
      border: 1px solid rgba(255,255,255,0.18);
      background:
        radial-gradient(circle at top left, rgba(185, 200, 90, 0.16), transparent 60%),
        rgba(3,7,20,0.98);
      padding: 12px 14px 10px;
      display: grid;
      gap: 10px;
      font-size: 11px;
    }

    .data-health-metric {
      display: grid;
      gap: 4px;
    }

    .data-health-label {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--ink-subtle);
    }

    .data-health-bar-track {
      position: relative;
      height: 4px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      overflow: hidden;
    }

    .data-health-bar-fill {
      position: absolute;
      inset: 0;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--violet), var(--lime));
      box-shadow: 0 0 14px rgba(139, 92, 255, 0.7);
      transition: width 0.7s ease-out;
    }

    .data-health-caption {
      font-size: 10px;
      color: var(--ink-subtle);
    }

    /* ==============================
       RESPONSIVE
       ============================== */

    @media (max-width: 960px) {
      .page-inner {
        padding-top: var(--space-lg);
      }

      .console-top-row {
        grid-template-columns: minmax(0, 1fr);
      }

      .console-hero-panel {
        order: -1;
      }

      .console-filters-panel-inner {
        grid-template-columns: minmax(0, 1fr);
        align-items: flex-start;
      }

      .console-filters-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .console-overview {
        grid-template-columns: minmax(0, 1fr);
      }

      .console-middle-row {
        grid-template-columns: minmax(0, 1fr);
      }

      .console-bottom-row {
        grid-template-columns: minmax(0, 1fr);
      }

      .deploy-row {
        grid-template-columns: minmax(0, 1fr);
      }

      .metric-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .guardian-health-card {
        grid-template-columns: minmax(0, 1fr);
      }

      .guardian-score-shell {
        justify-self: center;
      }
    }

    @media (max-width: 720px) {
      .site-header-inner {
        flex-wrap: nowrap;
        gap: 14px;
      }

      .metric-grid {
        grid-template-columns: minmax(0, 1fr);
      }

      .ref-table-header,
      .ref-table-row {
        grid-template-columns: minmax(0, 1.4fr) 0.9fr 0.9fr;
      }

      .ref-table-row > div:last-child,
      .ref-table-header > div:last-child {
        display: none;
      }

      .console-filters-grid {
        grid-template-columns: minmax(0, 1fr);
      }

      .guardian-pill-row {
        grid-template-columns: minmax(0, 1fr);
      }

      .page-inner {
        padding-left: 16px;
        padding-right: 16px;
      }
    }

    @media (min-width: 961px) {
      .nav-overlay {
        display: none !important;
      }
    }
  </style>
</head>
<body class="page-shell"
      data-cavbot-page-type="cavcore-console"
      data-cavbot-component="cavcore-console-shell">
  <!-- ===========================
       HEADER / NAV (unified)
       ========================== -->
  <header class="site-header">
    <div class="site-header-inner">
      <div class="brand-lockup">
        <a href="index.html" class="brand-logo">
          <img src="assets/cavbotwordmark.svg" alt="CavBot" class="brand-logo-img">
        </a>
      </div>

      <nav class="nav-main">
        <div class="nav-links">
          <a href="product.html" class="nav-link">Product</a>
          <a href="how-it-works.html" class="nav-link">How it Works</a>
          <a href="#pricing" class="nav-link">Pricing</a>
          <a href="#arcade" class="nav-link">404 Arcade Lab</a>
          <a href="cavcore-console.html" class="nav-link nav-link--active">Console</a>
        </div>
        <div class="nav-cta-row">
          <a href="#" class="nav-login">Log in</a>
          <button type="button" class="btn btn-primary">Start free trial</button>
        </div>
      </nav>
      <!-- Mobile menu toggle (3x3 dot icon, no background circle) -->
      <button
        type="button"
        class="nav-menu-toggle"
        aria-label="Open CavBot menu"
        aria-expanded="false"
        aria-controls="nav-overlay"
      >
        <span class="nav-menu-icon" aria-hidden="true">
          <span></span><span></span><span></span>
          <span></span><span></span><span></span>
          <span></span><span></span><span></span>
        </span>
      </button>
    </div>
  </header>

  <!-- Mobile lightbox menu -->
  <div class="nav-overlay" id="nav-overlay" hidden>
    <div class="nav-overlay-backdrop"></div>
    <div class="nav-overlay-panel">
      <div class="nav-overlay-header">
        <button
          type="button"
          class="nav-overlay-close"
          aria-label="Close menu"
        >
          ✕
        </button>
      </div>
      <nav class="nav-overlay-body">
        <a href="product.html" class="nav-overlay-link">Product</a>
        <a href="how-it-works.html" class="nav-overlay-link">How it Works</a>
        <a href="#pricing" class="nav-overlay-link">Pricing</a>
        <a href="#arcade" class="nav-overlay-link">404 Arcade Lab</a>
        <a href="cavcore-console.html" class="nav-overlay-link nav-overlay-link--active">Console</a>
        <div class="nav-overlay-cta">
          <a href="#" class="nav-overlay-login">Log in</a>
          <button type="button" class="btn btn-primary">Start free trial</button>
        </div>
      </nav>
    </div>
  </div>

  <!-- ===========================
       MAIN
       ========================== -->
  <main class="page-inner">
    <section class="console-shell" aria-label="CavCore Console overview">

      <!-- =======================
           TOP: HERO + LIVE BOT PANEL
           ======================= -->
      <div class="console-top-row">
        <div class="console-hero-copy">
          <div class="console-hero-kicker">CavCore console · CavBot analytics</div>
          <h1 class="console-hero-title">Guardian view of your routes &amp; SEO</h1>
          <p class="console-hero-subtitle">
            CavCore Console is the dashboard behind CavBot — an event-first map of
            pageviews, 404 recoveries, SEO structure, referrers, and runtime feel.
            Every card on this screen is backed by append-only events and derived
            tables ready for a future AI layer.
          </p>

          <div class="console-hero-meta-row">
            <span>Backing tables: <strong>events</strong>, <strong>daily_page_aggregates</strong>, <strong>seo_snapshots</strong>, <strong>performance_samples</strong>, <strong>insights</strong>.</span>
          </div>

          <div class="console-filter-row">
            <div class="console-filter-chip">
              Project
              <strong>cavendishpierrelouis.com</strong>
            </div>
            <div class="console-filter-chip">
              Window
              <strong>Last 30 days</strong>
            </div>
            <div class="console-filter-chip">
              Focus
              <strong>All components</strong>
            </div>
          </div>
        </div>

        <!-- Hero Bot + key stats -->
        <aside class="console-hero-panel" aria-label="Live CavBot project signal">
          <div class="console-hero-panel-top">
            <div>Project scope: multi-tenant · event-first</div>
            <div class="console-hero-live">
              <span class="console-live-dot"></span>
              <span>Guard active</span>
            </div>
          </div>
          <div class="console-hero-main">
            <div class="console-hero-bot-wrap">
              <!-- CavBot head instance -->
              <div class="cavbot-head-avatar" data-cavbot-head data-variant="core">
                <div class="cavbot-head-avatar-inner">
                  <div class="cavbot-antenna">
                    <div class="cavbot-antenna-tip"></div>
                  </div>

                  <div class="cavbot-head">
                    <div class="cavbot-face">
                      <div class="cavbot-eyes-row">
                        <div class="cavbot-eye">
                          <div class="cavbot-eye-inner">
                            <div class="cavbot-eye-track">
                              <div class="cavbot-eye-pupil" data-eye="left"></div>
                            </div>
                          </div>
                          <div class="cavbot-eye-glow"></div>
                          <div class="cavbot-blink"></div>
                        </div>
                        <div class="cavbot-eye">
                          <div class="cavbot-eye-inner">
                            <div class="cavbot-eye-track">
                              <div class="cavbot-eye-pupil" data-eye="right"></div>
                            </div>
                          </div>
                          <div class="cavbot-eye-glow"></div>
                          <div class="cavbot-blink"></div>
                        </div>
                      </div>

                      <div class="cavbot-scan" aria-hidden="true">
                        <div class="cavbot-scan-bar"></div>
                        <div class="cavbot-scan-dots">
                          <span>CAV</span>
                          <span>BOT</span>
                          <span>404</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="console-hero-metrics">
              <div class="console-hero-metrics-label">Event-first project health</div>
              <div class="console-hero-metrics-grid">
                <div class="console-hero-metric">
                  <div class="console-hero-metric-label">404 recovery rate</div>
                  <div class="console-hero-metric-value" data-metric="recoveryRate404" data-format="percent">92.4%</div>
                  <div class="console-hero-metric-footnote">From events where page_type = 404-control-room.</div>
                </div>
                <div class="console-hero-metric">
                  <div class="console-hero-metric-label">unique visitors</div>
                  <div class="console-hero-metric-value" data-metric="uniqueVisitors30d" data-format="number">8,104</div>
                  <div class="console-hero-metric-footnote">Distinct anonymousId per project.</div>
                </div>
                <div class="console-hero-metric">
                  <div class="console-hero-metric-label">sessions under guard</div>
                  <div class="console-hero-metric-value" data-metric="sessionsUnderGuard30d" data-format="number">19,286</div>
                  <div class="console-hero-metric-footnote">From sessions table, last 30 days.</div>
                </div>
                <div class="console-hero-metric">
                  <div class="console-hero-metric-label">routes monitored</div>
                  <div class="console-hero-metric-value" data-metric="routesMonitored" data-format="number">143</div>
                  <div class="console-hero-metric-footnote">From pages table, is_active = true.</div>
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
      <br><br><br><br>

      <!-- =======================
           FILTERS PANEL
           ======================= -->
      <section class="console-filters-panel" aria-label="Project filters">
        <div class="panel panel-tight console-filters-panel-inner">
          <div>
            <div class="eyebrow">Filters</div>
            <p class="section-body" style="font-size:12px; margin-top:6px; max-width:32rem;">
              Choose which project, window, and signal CavBot should show here. These knobs
              drive every card on the console — from 404 density and SEO to referrers and deploy markers.
            </p>
          </div>
          <div>
            <div class="console-filters-grid">
              <div class="console-filter-group">
                <label for="filter-project" class="filter-label">Project</label>
                <select id="filter-project" class="filter-select">
                  <option selected>cavendishpierrelouis.com</option>
                  <option>mireliano.com</option>
                  <option>demo.cavbot.dev</option>
                </select>
              </div>
              <div class="console-filter-group">
                <label for="filter-window" class="filter-label">Window</label>
                <select id="filter-window" class="filter-select">
                  <option>Last 7 days</option>
                  <option selected>Last 30 days</option>
                  <option>Last 90 days</option>
                </select>
              </div>
              <div class="console-filter-group">
                <label for="filter-focus" class="filter-label">View</label>
                <select id="filter-focus" class="filter-select">
                  <option selected>All components</option>
                  <option>404 &amp; routing</option>
                  <option>SEO &amp; structure</option>
                  <option>Performance</option>
                  <option>Referrers &amp; campaigns</option>
                </select>
              </div>
            </div>
            <br>
            <div class="filter-toggle-row">
              <span class="filter-toggle-label">Quick focus</span>
              <button type="button" class="btn-pill">404 density</button>
              <button type="button" class="btn-pill">SEO issues</button>
              <button type="button" class="btn-pill">Slow pages</button>
            </div>
          </div>
        </div>
      </section>
      <br><br><br><br>

      <!-- =======================
           OVERVIEW: METRICS + TREND
           ======================= -->
      <section class="console-overview" aria-label="CavBot overview metrics">
        <div>
          <header class="section-header" style="margin-bottom: var(--space-sm);">
            <div class="eyebrow">Overview</div>
            <h2 class="section-title">Sessions, events, and 404 density</h2>
            <p class="section-body">
              A clean roll-up of CavBot’s event stream for this project — every
              number on this row comes directly from <strong>events</strong>,
              <strong>sessions</strong>, and <strong>daily_page_aggregates</strong>.
            </p>
          </header>
          <br>
          <div class="metric-grid" aria-label="Key summary metrics">
            <article class="metric-card">
              <div class="metric-label">Total events (24h)</div>
              <div class="metric-value" data-metric="pageViews24h" data-format="number">284,930</div>
              <div class="metric-subtext">All components · last 24h.</div>
            </article>
            <article class="metric-card">
              <div class="metric-label">Sessions</div>
              <div class="metric-value" data-metric="sessions30d" data-format="number">19,286</div>
              <div class="metric-subtext">Distinct session_key per project.</div>
            </article>
            <article class="metric-card">
              <div class="metric-label">404 sessions</div>
              <div class="metric-value" data-metric="sessions40430d" data-format="number">1,042</div>
              <div class="metric-subtext">Events with cavbot_404_view in last 30 days.</div>
            </article>
            <article class="metric-card">
              <div class="metric-label">Badge interactions</div>
              <div class="metric-value" data-metric="badgeInteractions30d" data-format="number">3,117</div>
              <div class="metric-subtext">cavbot_badge_click / hover events.</div>
            </article>
          </div>

          <div class="trend-panel" aria-label="404 vs sessions trend">
            <div class="trend-header-row">
              <div class="trend-title">7-day route &amp; 404 trend</div>
              <div class="trend-legend">
                <span><span class="trend-dot trend-dot--sessions"></span> Sessions</span>
                <span><span class="trend-dot trend-dot--404"></span> 404 views</span>
              </div>
            </div>

            <!-- Trend chart is hydrated by inline console script using metrics.trend7d -->
            <div class="trend-chart" id="trend-chart"></div>

            <p class="trend-footnote">
              CavBot never stores PII — trends are built from anonymousId, sessionKey,
              route, and component, not from user accounts.
            </p>
          </div>
        </div>

        <!-- 404 CONTROL ROOM SUMMARY -->
        <aside class="panel panel-roomy" aria-label="404 control room summary">
          <div class="panel-subtitle">404 control room · Guardian slice</div>
          <h2 class="section-title">How CavBot handles broken routes</h2>
          <br>
          <p class="section-body">
            This block is driven by events where <strong>page_type = 404-control-room</strong>
            and <strong>component = "404-game"</strong>. It shows where dead ends were
            caught, missed, or left idle.
          </p>
          <br>
          <div class="key-stat-row">
            <div class="key-stat">
              <div class="key-stat-label">404 views</div>
              <div class="key-stat-value" data-metric="views40430d" data-format="number">3,987</div>
              <div class="key-stat-note">events.event_name = cavbot_404_view</div>
            </div>
            <div class="key-stat">
              <div class="key-stat-label">Game interactions</div>
              <div class="key-stat-value" data-metric="gameInteractions30d" data-format="number">6,214</div>
              <div class="key-stat-note">cavbot_catch + cavbot_miss</div>
            </div>
            <div class="key-stat">
              <div class="key-stat-label">Catches / Misses</div>
              <div class="key-stat-value key-stat-value--catch-miss">
                <span data-metric="catches30d" data-format="number">4,112</span>
                 /
                <span data-metric="misses30d" data-format="number">2,102</span>
              </div>
              <div class="key-stat-note">
                Catch rate:
                <span data-metric="recoveryRate404" data-format="percent">66.3%</span>
              </div>
            </div>
            <div class="key-stat">
              <div class="key-stat-label">Idle events (L1 / L2)</div>
              <div class="key-stat-value key-stat-value--idle-levels">389 / 84</div>
              <div class="key-stat-note">Sessions that stall in the control room.</div>
            </div>
          </div>
          <br>
          <p class="section-body" style="font-size:11px; margin-top:10px;">
            Under the hood: this summary composes
            <strong>daily_page_aggregates</strong>,
            <strong>referrer_aggregates</strong>, and
            insight types like <em>404_spike</em> and
            <em>campaign_lands_on_404</em> — all derived from the append-only
            <code>events</code> table.
          </p>

          <!-- Guardian Health block -->
          <div class="guardian-health-card" aria-label="Guardian health summary">
            <div class="guardian-score-shell">
              <div class="guardian-score-ring">
                <div class="guardian-score-bubble">
                  <div class="guardian-score-label">Guardian score</div>
                  <div class="guardian-score-value" data-metric="guardianScore" data-format="integer">92</div>
                  <div class="guardian-score-scale">/ 100</div>
                </div>
              </div>
            </div>
            <div class="guardian-health-body">
              <div class="guardian-pill-row">
                <div class="guardian-pill guardian-pill--strong">
                  <div class="guardian-pill-label">Routes &amp; 404s</div>
                  <div class="guardian-pill-value">A</div>
                  <div class="guardian-pill-note">Dead ends are caught quickly and recovered cleanly.</div>
                </div>
                <div class="guardian-pill">
                  <div class="guardian-pill-label">SEO surface</div>
                  <div class="guardian-pill-value">B+</div>
                  <div class="guardian-pill-note">A few critical pages still need meta and canonical fixes.</div>
                </div>
              </div>
              <div class="guardian-pill-row">
                <div class="guardian-pill">
                  <div class="guardian-pill-label">Performance</div>
                  <div class="guardian-pill-value">A-</div>
                  <div class="guardian-pill-note">Most routes land inside LCP budget with room to tighten.</div>
                </div>
                <div class="guardian-pill">
                  <div class="guardian-pill-label">Experience</div>
                  <div class="guardian-pill-value">B</div>
                  <div class="guardian-pill-note">Badge engagement is healthy; onboarding flow can be smoother.</div>
                </div>
              </div>
              <p class="guardian-health-copy">
                This score is designed to come straight from <strong>seo_snapshots</strong>,
                <strong>performance_samples</strong>, <strong>insights</strong>, and a future
                CavBot brain that reads your event stream in real time.
              </p>
            </div>
          </div>
        </aside>
      </section>
      <br><br><br><br>

      <!-- =======================
           MIDDLE: SEO / PERFORMANCE / STRUCTURE
           ======================= -->
      <section class="console-middle-row" aria-label="SEO, performance, and structure overview">
        <!-- SEO SNAPSHOTS -->
        <article class="panel panel-roomy">
          <div class="eyebrow">SEO &amp; indexability</div>
          <h2 class="section-title">Route-level SEO snapshots</h2>
          <p class="section-body">
            CavBot takes periodic <strong>seo_snapshots</strong> per page — title,
            description, canonical, indexable flags, headings, word count, and social tags.
          </p>
          <br>
          <div class="seo-badges">
            <span class="seo-badge">
              Total pages ·
              <span data-metric="totalPages" data-format="integer">143</span>
            </span>
            <span class="seo-badge">
              Indexed pages ·
              <span data-metric="indexedPages" data-format="integer">127</span>
            </span>
            <span class="seo-badge seo-badge--critical">
              Pages with critical SEO issues ·
              <span data-metric="criticalSeoPages" data-format="integer">9</span>
            </span>
            <span class="seo-badge">
              Pages with minor issues ·
              <span data-metric="minorSeoPages" data-format="integer">24</span>
            </span>
          </div>
          <br>
          <ul class="mini-list" aria-label="Common SEO issues">
            <li>Duplicate titles detected on 3 blog posts.</li>
            <li>Missing or thin meta descriptions on 6 marketing pages.</li>
            <li>Canonical mismatch on <code>/404</code> variant — points to outdated route.</li>
            <li>2 high-traffic pages marked <code>noindex</code> unintentionally.</li>
          </ul>
          <br>
          <p class="section-body" style="font-size:11px; margin-top:8px;">
            These rows feed insight types like <em>seo_missing_meta</em>,
            <em>duplicate_title</em>, and <em>non_indexable_critical_page</em>.
          </p>
        </article>

        <!-- PERFORMANCE -->
        <article class="panel panel-roomy">
          <div class="eyebrow">Runtime feel</div>
          <h2 class="section-title">Performance snapshots per route</h2>
          <p class="section-body">
            From <strong>performance_samples</strong>, CavBot tracks LCP, TTFB, CLS, and FID
            per page and device, so slow-but-important pages float to the top.
          </p>
          <br>
          <div class="perf-metric-row">
            <div class="perf-pill">
              <div class="perf-label">Average LCP (desktop)</div>
              <div class="perf-value" data-metric="avgLcpMs" data-format="ms">1,980 ms</div>
              <div class="perf-status">Across all monitored paths.</div>
            </div>
            <div class="perf-pill">
              <div class="perf-label">Average TTFB</div>
              <div class="perf-value" data-metric="avgTtfbMs" data-format="ms">210 ms</div>
              <div class="perf-status">Origins within target budget.</div>
            </div>
          </div>

          <div class="perf-metric-row" style="margin-top:8px;">
            <div class="perf-pill">
              <div class="perf-label">Pages above LCP budget</div>
              <div class="perf-value" data-metric="slowPagesCount" data-format="integer">5</div>
              <div class="perf-status">Flagged for insight <em>slow_critical_page</em>.</div>
            </div>
            <div class="perf-pill">
              <div class="perf-label">Pages with unstable layout</div>
              <div class="perf-value" data-metric="unstableLayoutPages" data-format="integer">2</div>
              <div class="perf-status">CLS &gt; 0.1 on mobile.</div>
            </div>
          </div>
        </article>

        <!-- STRUCTURE / MAP -->
        <article class="panel panel-roomy">
          <div class="eyebrow">Structure &amp; internal links</div>
          <h2 class="section-title">Canonical map &amp; weak routes</h2>
          <p class="section-body">
            CavBot uses the <strong>pages</strong> table, internal referrers,
            and sitemap data to detect <em>orphan</em> and <em>under-linked</em> pages.
          </p>
          <br><br><br><br>

          <div class="structure-pill-grid">
            <div class="structure-pill">
              <div class="perf-label">Orphan pages</div>
              <div class="perf-value" data-metric="orphanPages" data-format="integer">3</div>
              <div class="perf-status">Appear in sitemap, but never linked internally.</div>
            </div>
            <div class="structure-pill">
              <div class="perf-label">Weakly linked routes</div>
              <div class="perf-value" data-metric="weakRoutes" data-format="integer">7</div>
              <div class="perf-status">Important pages with &lt; 3 internal links.</div>
            </div>
            <div class="structure-pill">
              <div class="perf-label">Sitemap mismatches</div>
              <div class="perf-value" data-metric="sitemapMismatches" data-format="integer">4</div>
              <div class="perf-status">404 when visited from sitemap.xml.</div>
            </div>
            <div class="structure-pill">
              <div class="perf-label">High-value funnels</div>
              <div class="perf-value" data-metric="highValueFunnels" data-format="integer">2</div>
              <div class="perf-status">Tagged with importance_score &gt; 0.8.</div>
            </div>
          </div>

          <p class="section-body" style="font-size:11px; margin-top:8px;">
            This is where CavBot earns its “guardian angel” role: flagging pages that
            <em>should</em> carry more structural weight.
          </p>
        </article>
      </section>
      <br><br><br><br>

      <!-- =======================
           BOTTOM: REFERRERS / CAMPAIGNS + INSIGHTS
           ======================= -->
      <section class="console-bottom-row" aria-label="Referrers, campaigns, and insights">
        <!-- REFERRERS & CAMPAIGNS -->
        <article class="panel panel-roomy">
          <div class="eyebrow">Referrers &amp; campaigns</div>
          <h2 class="section-title">Who sends traffic into broken routes</h2>
          <p class="section-body">
            CavBot’s <strong>referrer_aggregates</strong> table rolls up
            traffic by domain and UTM campaign — highlighting sources that over-index
            on 404s or thin pages.
          </p>
          <br>
          <div class="ref-table" aria-label="Top external referrers">
            <div class="ref-table-header">
              <div>Referrer</div>
              <div>Sessions</div>
              <div>404 hits</div>
              <div>404 rate</div>
            </div>
            <div class="ref-table-row">
              <div class="ref-domain">google.com</div>
              <div>8,921</div>
              <div>143</div>
              <div class="ref-rate-ok">1.6%</div>
            </div>
            <div class="ref-table-row">
              <div class="ref-domain">linkedin.com</div>
              <div>1,284</div>
              <div>57</div>
              <div class="ref-rate-bad">4.4%</div>
            </div>
            <div class="ref-table-row">
              <div class="ref-domain">newsletter.cavbot.dev</div>
              <div>622</div>
              <div>2</div>
              <div class="ref-rate-ok">0.3%</div>
            </div>
            <div class="ref-table-row">
              <div class="ref-domain">unknown / direct</div>
              <div>5,131</div>
              <div>190</div>
              <div class="ref-rate-bad">3.7%</div>
            </div>
          </div>

          <p class="section-body" style="font-size:11px; margin-top:8px;">
            Campaign health is computed the same way — aggregating UTM source / medium /
            campaign with error rates and top landing pages for each.
          </p>
          <br>
          <div class="campaign-graph" aria-label="Campaign 404 performance">
            <div class="campaign-graph-header">
              <div class="campaign-graph-title">Campaign 404 performance</div>
              <div class="campaign-graph-window">Last 30 days · utm_campaign</div>
            </div>

            <div class="campaign-row" style="--percent:72%;">
              <div class="campaign-row-header">
                <div class="campaign-name">launch_rinasce_collection</div>
                <div class="campaign-meta">
                  sessions 2,184 · 404 rate <span class="ref-rate-ok">1.2%</span>
                </div>
              </div>
              <div class="campaign-bar-track">
                <div class="campaign-bar-fill"></div>
              </div>
            </div>

            <div class="campaign-row" style="--percent:48%;">
              <div class="campaign-row-header">
                <div class="campaign-name">newsletter_november_rollout</div>
                <div class="campaign-meta">
                  sessions 1,046 · 404 rate <span class="ref-rate-ok">0.9%</span>
                </div>
              </div>
              <div class="campaign-bar-track">
                <div class="campaign-bar-fill"></div>
              </div>
            </div>

            <div class="campaign-row" style="--percent:33%;">
              <div class="campaign-row-header">
                <div class="campaign-name">linkedin_brand_awareness</div>
                <div class="campaign-meta">
                  sessions 712 · 404 rate <span class="ref-rate-bad">3.8%</span>
                </div>
              </div>
              <div class="campaign-bar-track">
                <div class="campaign-bar-fill"></div>
              </div>
            </div>

            <p class="campaign-footnote">
              Bars show relative traffic volume per campaign. Color intensity and badges reuse
              the same <strong>referrer_aggregates</strong> and <strong>insights</strong> schema
              as the table above, so CavBot can talk about which campaigns are healthiest — or
              sending visitors into dead ends.
            </p>
          </div>
        </article>

        <!-- INSIGHTS & ALERTS -->
        <article class="panel panel-roomy" aria-label="Guardian insights">
          <div class="eyebrow">Guardian insights</div>
          <h2 class="section-title">Issues CavBot is watching</h2>
          <p class="section-body">
            The <strong>insights</strong> table stores typed, severity-ranked findings
            that future AI layers can “read” and talk about — each with structured context.
          </p>
          <br>
          <div class="insights-list">
            <div class="insight-row">
              <div class="insight-row-header">
                <div class="insight-type">404_spike</div>
                <div class="insight-severity insight-severity--high">High</div>
              </div>
              <div class="insight-title">404 spike after last deploy on /blog</div>
              <div class="insight-meta">
                312 cavbot_404_view events in 24h · mostly from internal links on <code>/blog</code>.
                Suspected: missing redirect for an older article slug.
              </div>
              <div class="insight-tag-row">
                <span class="insight-tag">page_type: 404-control-room</span>
                <span class="insight-tag">component: core-tracking</span>
                <span class="insight-tag">status: open</span>
              </div>
            </div>

            <div class="insight-row">
              <div class="insight-row-header">
                <div class="insight-type">seo_missing_meta</div>
                <div class="insight-severity insight-severity--medium">Medium</div>
              </div>
              <div class="insight-title">Key marketing page without meta description</div>
              <div class="insight-meta">
                <code>/pricing</code> appears in top 10 landing pages but has no meta description.
                Derived from latest <strong>seo_snapshots</strong>.
              </div>
              <div class="insight-tag-row">
                <span class="insight-tag">seo</span>
                <span class="insight-tag">high-traffic</span>
                <span class="insight-tag">status: open</span>
              </div>
            </div>

            <div class="insight-row">
              <div class="insight-row-header">
                <div class="insight-type">slow_critical_page</div>
                <div class="insight-severity insight-severity--medium">Medium</div>
              </div>
              <div class="insight-title">Onboarding route is slower than budget</div>
              <div class="insight-meta">
                Average LCP 2,420ms on <code>/onboard</code> with high importance_score.
                Based on <strong>performance_samples</strong> aggregates.
              </div>
              <div class="insight-tag-row">
                <span class="insight-tag">performance</span>
                <span class="insight-tag">importance &gt; 0.8</span>
                <span class="insight-tag">status: open</span>
              </div>
            </div>
          </div>
          <br>
          <p class="section-body" style="font-size:11px; margin-top:8px;">
            Alerts for these insights (webhook, email, dashboard banners) are stored in the
            <strong>alerts</strong> table, keeping a clean history of when teams were notified.
          </p>
        </article>
      </section>
      <br><br><br><br>

      <!-- =======================
           DEPLOY MARKERS / DATA HEALTH
           ======================= -->
      <section class="deploy-row" aria-label="Deploy markers and data health">
        <!-- DEPLOY MARKERS -->
        <article class="panel panel-roomy">
          <div class="eyebrow">Deploy markers</div>
          <h2 class="section-title">Align incidents with releases</h2>
          <p class="section-body">
            CavBot’s <strong>deploy_markers</strong> table helps you line up 404 spikes,
            SEO regressions, and perf changes against your own deploy timeline.
          </p>
          <br>
          <div class="deploy-timeline">
            <div class="deploy-item">
              <div class="deploy-dot"></div>
              <div>
                <div><strong>Deploy #127 — Blog routing refactor</strong></div>
                <div class="deploy-meta">2025-11-28 · 404 spike detected on /blog within 2h of deploy.</div>
              </div>
            </div>
            <div class="deploy-item">
              <div class="deploy-dot" style="background: var(--lime); box-shadow: 0 0 8px rgba(185,200,90,0.7);"></div>
              <div>
                <div><strong>Deploy #126 — 404 control room update</strong></div>
                <div class="deploy-meta">2025-11-24 · Catch rate improved by 11.3% after UX change.</div>
              </div>
            </div>
            <div class="deploy-item">
              <div class="deploy-dot" style="background: var(--blue-soft); box-shadow: 0 0 8px rgba(78,168,255,0.7);"></div>
              <div>
                <div><strong>Deploy #125 — Image optimizations</strong></div>
                <div class="deploy-meta">2025-11-19 · LCP on /home dropped from 2,380ms to 1,740ms.</div>
              </div>
            </div>
          </div>
        </article>

        <!-- DATA / PRIVACY HEALTH -->
        <article class="panel panel-roomy">
          <div class="eyebrow">Data &amp; privacy health</div>
          <h2 class="section-title">Event-first, privacy-respectful</h2>
          <p class="section-body">
            CavBot’s analytics layer is designed to be safe for real production websites:
            no emails, no names, no long-term IP storage — only coarse, anonymous signal.
          </p>
          <br>
          <ul class="data-health-list" aria-label="Privacy posture">
            <li><strong>Anonymous visitors only:</strong> CavBot uses project-scoped anonymousId, never raw user IDs.</li>
            <li><strong>No PII in payloads:</strong> Events avoid emails, names, or custom identifiers by default.</li>
            <li><strong>IP handling:</strong> Optional, truncated, and used only for aggregated geography if enabled.</li>
            <li><strong>Append-only events:</strong> Raw <code>events</code> can be archived after N days, while
              daily aggregates and insights are retained longer.</li>
          </ul>
          <br>
          <div class="data-health-metrics" aria-label="Data health meters">
            <div class="data-health-metric" data-metric="piiRiskPercent" data-format="percent-bar">
              <div class="data-health-label">PII risk</div>
              <div class="data-health-bar-track">
                <div class="data-health-bar-fill"></div>
              </div>
              <div class="data-health-caption">
                Low — payload schema excludes names, emails, and raw IPs by design.
              </div>
            </div>
            <div class="data-health-metric" data-metric="aggregationCoveragePercent" data-format="percent-bar">
              <div class="data-health-label">Aggregation coverage</div>
              <div class="data-health-bar-track">
                <div class="data-health-bar-fill"></div>
              </div>
              <div class="data-health-caption">
                Most metrics come from <code>daily_page_aggregates</code> and <code>referrer_aggregates</code>, not raw events.
              </div>
            </div>
            <div class="data-health-metric" data-metric="retentionHorizonPercent" data-format="percent-bar">
              <div class="data-health-label">Retention horizon</div>
              <div class="data-health-bar-track">
                <div class="data-health-bar-fill"></div>
              </div>
              <div class="data-health-caption">
                Raw event retention tuned to 90 days with longer-lived, anonymised rollups.
              </div>
            </div>
          </div>
          <br>

          <p class="section-body" style="font-size:11px; margin-top:8px;">
            This project view is intentionally structured so a future CavBot assistant can
            sit on top of <strong>events</strong>, <strong>seo_snapshots</strong>,
            <strong>performance_samples</strong>, and <strong>insights</strong> — without
            ever needing to see personal identities.
          </p>
        </article>
      </section>
    </section>
  </main>

  <!-- ===========================
       FOOTER (unified)
       ========================== -->
  <footer class="site-footer">
    <div class="footer-inner">

      <div class="footer-grid">
        <!-- RESOURCES -->
        <section class="footer-column">
          <h2 class="footer-column-title">Resources</h2>
          <button class="footer-column-toggle" type="button">
            <span>Resources</span>
            <span class="footer-toggle-icon">▾</span>
          </button>
          <ul class="footer-column-list">
            <li><a href="cavcore-console.html" class="footer-link">Dashboard</a></li>
            <li><a href="mailto:support@cavbot.io" class="footer-link">Help Center</a></li>
            <li><a href="https://cavendishpierrelouis.io/blog" class="footer-link">Founders Insight</a></li>
          </ul>
        </section>

        <!-- COMPANY -->
        <section class="footer-column">
          <h2 class="footer-column-title">Company</h2>
          <button class="footer-column-toggle" type="button">
            <span>Company</span>
            <span class="footer-toggle-icon">▾</span>
          </button>
          <ul class="footer-column-list">
            <li><a href="about.html" class="footer-link">About</a></li>
            <li><a href="#" class="footer-link">Code of Ethics</a></li>
            <li><a href="#" class="footer-link">Careers</a></li>
            <li><a href="#" class="footer-link">Media Kit</a></li>
            <li><a href="#" class="footer-link">News &amp; Press</a></li>
          </ul>
        </section>

        <!-- LEGAL -->
        <section class="footer-column">
          <h2 class="footer-column-title">Legal Notices</h2>
          <button class="footer-column-toggle" type="button">
            <span>Legal</span>
            <span class="footer-toggle-icon">▾</span>
          </button>
          <ul class="footer-column-list">
            <li><a href="#" class="footer-link">Privacy Policy</a></li>
            <li><a href="#" class="footer-link">Terms of Use</a></li>
            <li><a href="#" class="footer-link">Data &amp; Security</a></li>
          </ul>
        </section>
      </div>
      <br><br><br><br>
      <div class="footer-bottom">
        <div class="footer-copy">
          &copy; 2025 CavBot · CavCore Console
        </div>
      </div>

    </div>
  </footer>

  <!-- Analytics bridge (window.cavbotAnalytics.track) -->
  <script src="/cavbotcore/cavbot-analytics.js"></script>
  <!-- Unified brain script -->
  <script src="cavbotcore/cavbotbrain.js" defer></script>
  <!-- CavBot header-footer + nav toggle -->
  <script src="headerfooter.js"></script>

  <!-- CavCore Console live metrics (inline, calls api.cavbot.io directly) -->
  <script>
    (function () {
      "use strict";

      const SUMMARY_URL = "https://api.cavbot.io/v1/projects/1/summary";
      const PROJECT_KEY = "cavbot_pk_web_main_01J9X0ZK3P";

      function formatNumber(value) {
        if (value == null || isNaN(value)) return "—";
        return Number(value).toLocaleString();
      }

      function formatInteger(value) {
        if (value == null || isNaN(value)) return "—";
        return String(Math.round(Number(value)));
      }

      function formatPercent(value) {
        if (value == null || isNaN(value)) return "—";
        const num = Number(value);
        if (num % 1 === 0) {
          return num.toFixed(0) + "%";
        }
        return num.toFixed(1) + "%";
      }

      function formatMs(value) {
        if (value == null || isNaN(value)) return "—";
        const num = Number(value);
        return Math.round(num).toLocaleString() + " ms";
      }

      function applyMetricToElement(el, key, value, format) {
        if (value == null || isNaN(value)) return;
        if (format === "percent-bar") return;

        let text;
        switch (format) {
          case "percent":
            text = formatPercent(value);
            break;
          case "ms":
            text = formatMs(value);
            break;
          case "integer":
            text = formatInteger(value);
            break;
          case "number":
          default:
            text = formatNumber(value);
            break;
        }

        el.textContent = text;
      }

      function hydrateSimpleMetrics(metrics) {
        const nodes = document.querySelectorAll("[data-metric]");
        nodes.forEach((el) => {
          const key = el.getAttribute("data-metric");
          const format = el.getAttribute("data-format") || "number";
          if (!key || !(key in metrics)) return;
          if (format === "percent-bar") return;
          applyMetricToElement(el, key, metrics[key], format);
        });
      }

      function hydratePercentBars(metrics) {
        const bars = document.querySelectorAll('[data-format="percent-bar"]');
        bars.forEach((wrap) => {
          const key = wrap.getAttribute("data-metric");
          if (!key || !(key in metrics)) return;
          const raw = Number(metrics[key]);
          if (isNaN(raw)) return;
          const percent = Math.max(0, Math.min(100, raw));

          const fill = wrap.querySelector(".data-health-bar-fill");
          if (!fill) return;

          requestAnimationFrame(() => {
            fill.style.width = percent + "%";
          });
        });
      }

      function hydrateCampaignBars() {
        const rows = document.querySelectorAll(".campaign-row");
        rows.forEach((row, idx) => {
          const fill = row.querySelector(".campaign-bar-fill");
          if (!fill) return;
          const style = row.getAttribute("style") || "";
          const match = style.match(/--percent:\s*([0-9.]+)%/);
          let target = 50;
          if (match) {
            target = parseFloat(match[1]);
          }
          fill.style.width = "0%";
          const delay = 80 * idx;
          setTimeout(() => {
            fill.style.width = target + "%";
          }, delay);
        });
      }

      function buildTrendChart(trend7d) {
        const chart = document.getElementById("trend-chart");
        if (!chart || !Array.isArray(trend7d) || trend7d.length === 0) {
          return;
        }

        chart.innerHTML = "";

        let maxSessions = 0;
        let max404 = 0;

        trend7d.forEach((p) => {
          if (p.sessions && p.sessions > maxSessions) maxSessions = p.sessions;
          if (p.views404 && p.views404 > max404) max404 = p.views404;
        });

        const overallMax = Math.max(maxSessions, max404, 1);

        trend7d.forEach((point) => {
          const group = document.createElement("div");
          group.className = "trend-bar-group";

          const barSessions = document.createElement("div");
          barSessions.className = "trend-bar trend-bar--sessions";

          const bar404 = document.createElement("div");
          bar404.className = "trend-bar trend-bar--404";

          const label = document.createElement("div");
          label.className = "trend-day-label";

          if (point.day && typeof point.day === "string" && point.day.length >= 10) {
            label.textContent = point.day.slice(5); // "MM-DD"
          } else {
            label.textContent = "—";
          }

          group.appendChild(barSessions);
          group.appendChild(bar404);
          group.appendChild(label);
          chart.appendChild(group);

          const sessionsHeight = overallMax > 0 ? (Number(point.sessions) || 0) / overallMax * 100 : 0;
          const viewsHeight = overallMax > 0 ? (Number(point.views404) || 0) / overallMax * 100 : 0;

          requestAnimationFrame(() => {
            barSessions.style.height = sessionsHeight + "%";
            bar404.style.height = viewsHeight + "%";
          });
        });
      }

      async function fetchMetrics() {
        const res = await fetch(SUMMARY_URL, {
          method: "GET",
          headers: {
            "X-Project-Key": PROJECT_KEY
          }
        });

        if (!res.ok) {
          throw new Error("Failed to load console metrics: " + res.status);
        }

        return res.json();
      }

      async function initConsole() {
        try {
          const payload = await fetchMetrics();
          if (!payload || !payload.metrics) return;

          const metrics = payload.metrics;

          hydrateSimpleMetrics(metrics);
          hydratePercentBars(metrics);
          buildTrendChart(metrics.trend7d || []);
          hydrateCampaignBars();
        } catch (err) {
          console.error("[CavCore Console] Metrics load failed:", err);
          // Leave static demo defaults in place on failure.
        }
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initConsole);
      } else {
        initConsole();
      }
    })();
  </script>
</body>
</html>
